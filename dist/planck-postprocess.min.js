!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],n):n(e.Planck=e.Planck||{},e.THREE)}(this,function(e,c){"use strict";var r,n,A;(r=c).EffectComposer=function(e,n){if(this.renderer=e,void 0===n){var t={minFilter:r.LinearFilter,magFilter:r.LinearFilter,format:r.RGBAFormat,stencilBuffer:!1},a=e.getDrawingBufferSize();(n=new r.WebGLRenderTarget(a.width,a.height,t)).texture.name="EffectComposer.rt1"}this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===r.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),void 0===r.ShaderPass&&console.error("THREE.EffectComposer relies on THREE.ShaderPass"),this.copyPass=new r.ShaderPass(r.CopyShader)},Object.assign(r.EffectComposer.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var n=this.renderer.getDrawingBufferSize();e.setSize(n.width,n.height)},insertPass:function(e,n){this.passes.splice(n,0,e)},render:function(e){var n,t,a=!1,i=this.passes.length;for(t=0;t<i;t++)if(!1!==(n=this.passes[t]).enabled){if(n.render(this.renderer,this.writeBuffer,this.readBuffer,e,a),n.needsSwap){if(a){var o=this.renderer.context;o.stencilFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),o.stencilFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==r.MaskPass&&(n instanceof r.MaskPass?a=!0:n instanceof r.ClearMaskPass&&(a=!1))}},reset:function(e){if(void 0===e){var n=this.renderer.getDrawingBufferSize();(e=this.renderTarget1.clone()).setSize(n.width,n.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,n){this.renderTarget1.setSize(e,n),this.renderTarget2.setSize(e,n);for(var t=0;t<this.passes.length;t++)this.passes[t].setSize(e,n)}}),r.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(r.Pass.prototype,{setSize:function(e,n){},render:function(e,n,t,a,i){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),(n=c).LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{type:"t",value:null},luminosityThreshold:{type:"f",value:1},smoothWidth:{type:"f",value:1},defaultColor:{type:"c",value:new n.Color(0)},defaultOpacity:{type:"f",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","gl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")},(A=c).UnrealBloomPass=function(e,n,t,a){A.Pass.call(this),this.strength=void 0!==n?n:1,this.radius=t,this.threshold=a,this.resolution=void 0!==e?new A.Vector2(e.x,e.y):new A.Vector2(256,256);var i={minFilter:A.LinearFilter,magFilter:A.LinearFilter,format:A.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var o=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2);this.renderTargetBright=new A.WebGLRenderTarget(o,r,i),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var s=0;s<this.nMips;s++){var l;(l=new A.WebGLRenderTarget(o,r,i)).texture.name="UnrealBloomPass.h"+s,l.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(l),(l=new A.WebGLRenderTarget(o,r,i)).texture.name="UnrealBloomPass.v"+s,l.texture.generateMipmaps=!1,this.renderTargetsVertical.push(l),o=Math.round(o/2),r=Math.round(r/2)}void 0===A.LuminosityHighPassShader&&console.error("THREE.UnrealBloomPass relies on THREE.LuminosityHighPassShader");var f=A.LuminosityHighPassShader;this.highPassUniforms=A.UniformsUtils.clone(f.uniforms),this.highPassUniforms.luminosityThreshold.value=a,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new A.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,defines:{}}),this.separableBlurMaterials=[];var d=[3,5,7,9,11];for(o=Math.round(this.resolution.x/2),r=Math.round(this.resolution.y/2),s=0;s<this.nMips;s++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(d[s])),this.separableBlurMaterials[s].uniforms.texSize.value=new A.Vector2(o,r),o=Math.round(o/2),r=Math.round(r/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=n,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new A.Vector3(1,1,1),new A.Vector3(1,1,1),new A.Vector3(1,1,1),new A.Vector3(1,1,1),new A.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===A.CopyShader&&console.error("THREE.BloomPass relies on THREE.CopyShader");var u=A.CopyShader;this.copyUniforms=A.UniformsUtils.clone(u.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new A.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:A.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new A.Color,this.oldClearAlpha=1,this.camera=new A.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new A.Scene,this.basic=new A.MeshBasicMaterial,this.quad=new A.Mesh(new A.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},A.UnrealBloomPass.prototype=Object.assign(Object.create(A.Pass.prototype),{constructor:A.UnrealBloomPass,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,n){var t=Math.round(e/2),a=Math.round(n/2);this.renderTargetBright.setSize(t,a);for(var i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(t,a),this.renderTargetsVertical[i].setSize(t,a),this.separableBlurMaterials[i].uniforms.texSize.value=new A.Vector2(t,a),t=Math.round(t/2),a=Math.round(a/2)},render:function(e,n,t,a,i){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var o=e.autoClear;e.autoClear=!1,e.setClearColor(new A.Color(0,0,0),0),i&&e.context.disable(e.context.STENCIL_TEST),this.renderToScreen&&(this.quad.material=this.basic,this.basic.map=t.texture,e.render(this.scene,this.camera,void 0,!0)),this.highPassUniforms.tDiffuse.value=t.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,e.render(this.scene,this.camera,this.renderTargetBright,!0);for(var r=this.renderTargetBright,s=0;s<this.nMips;s++)this.quad.material=this.separableBlurMaterials[s],this.separableBlurMaterials[s].uniforms.colorTexture.value=r.texture,this.separableBlurMaterials[s].uniforms.direction.value=A.UnrealBloomPass.BlurDirectionX,e.render(this.scene,this.camera,this.renderTargetsHorizontal[s],!0),this.separableBlurMaterials[s].uniforms.colorTexture.value=this.renderTargetsHorizontal[s].texture,this.separableBlurMaterials[s].uniforms.direction.value=A.UnrealBloomPass.BlurDirectionY,e.render(this.scene,this.camera,this.renderTargetsVertical[s],!0),r=this.renderTargetsVertical[s];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.render(this.scene,this.camera,this.renderTargetsHorizontal[0],!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.context.enable(e.context.STENCIL_TEST),this.renderToScreen?e.render(this.scene,this.camera,void 0,!1):e.render(this.scene,this.camera,t,!1),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=o},getSeperableBlurMaterial:function(e){return new A.ShaderMaterial({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new A.Vector2(.5,.5)},direction:{value:new A.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})},getCompositeMaterial:function(e){return new A.ShaderMaterial({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\t\t\t\tuniform sampler2D blurTexture1;\t\t\t\tuniform sampler2D blurTexture2;\t\t\t\tuniform sampler2D blurTexture3;\t\t\t\tuniform sampler2D blurTexture4;\t\t\t\tuniform sampler2D blurTexture5;\t\t\t\tuniform sampler2D dirtTexture;\t\t\t\tuniform float bloomStrength;\t\t\t\tuniform float bloomRadius;\t\t\t\tuniform float bloomFactors[NUM_MIPS];\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\t\t\t\t\t\t\t\tfloat lerpBloomFactor(const in float factor) { \t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\t\t\t\t}\t\t\t\t\t\t\t\tvoid main() {\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + \t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\t\t\t\t}"})}}),A.UnrealBloomPass.BlurDirectionX=new A.Vector2(1,0),A.UnrealBloomPass.BlurDirectionY=new A.Vector2(0,1);var t,x=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},a=function(){function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}}(),l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},i=function e(n,t,a){null===n&&(n=Function.prototype);var i=Object.getOwnPropertyDescriptor(n,t);if(void 0===i){var o=Object.getPrototypeOf(n);return null===o?void 0:e(o,t,a)}if("value"in i)return i.value;var r=i.get;return void 0!==r?r.call(a):void 0},o=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},m=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n},s=function(e){function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:256,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:256,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=t.strength,i=void 0===a?1:a,o=t.radius,r=void 0===o?.5:o,s=t.threshold,l=void 0===s?.5:s;x(this,u);var f=new c.Vector2(2*e,2*n),d=m(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,f,i,r,l));return d.needsSeparateRender=!1,d.separateCamera=null,d.separateScene=null,d.layers=new c.Layers,d}return o(u,e),a(u,[{key:"render",value:function(e,n,t,a,i){var o=e.autoClear;e.autoClear=!1;var r=e.getClearColor().getHex(),s=e.getClearAlpha();if(e.setClearColor(new c.Color(0,0,0),0),i&&e.context.disable(e.context.STENCIL_TEST),this.needsSeparateRender){var l=this.separateCamera,f=this.separateScene,d=l.layers;l.layers=this.layers,e.render(f,l,n,!0),l.layers=d,this.highPassUniforms.tDiffuse.value=n.texture}else this.highPassUniforms.tDiffuse.value=t.texture;this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,e.render(this.scene,this.camera,this.renderTargetBright,!0);for(var u=this.renderTargetBright,A=0;A<this.nMips;++A){var h=this.separableBlurMaterials[A],x=this.renderTargetsHorizontal[A],m=this.renderTargetsVertical[A];(this.quad.material=h).uniforms.colorTexture.value=u.texture,h.uniforms.direction.value=this.constructor.BlurDirectionX,e.render(this.scene,this.camera,x,!0),h.uniforms.colorTexture.value=x.texture,h.uniforms.direction.value=this.constructor.BlurDirectionY,e.render(this.scene,this.camera,m,!0),u=m}var F=this.renderTargetsHorizontal[0];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.render(this.scene,this.camera,F,!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=F.texture,i&&e.context.enable(e.context.STENCIL_TEST),this.renderToScreen?e.render(this.scene,this.camera,void 0,!1):e.render(this.scene,this.camera,t,!1),e.autoClear=o,this.clearColor&&e.setClearColor(r,s)}},{key:"setSize",value:function(e,n){i(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"setSize",this).call(this,2*e,2*n)}}]),u}(c.UnrealBloomPass),f=function(e){function n(){x(this,n);var e=m(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return e.needsSwap=!1,e}return o(n,e),a(n,[{key:"render",value:function(e,n,t,a,i){t.scissorTest=!1,n.scissorTest=!1}}]),n}(c.Pass),F="#define GLSLIFY 1\n// The MIT License\n// Copyright (C) 2016-Present Shota Matsuda\n\n#define FXAA_GLSL_100 1\n#define FXAA_GREEN_AS_LUMA 1\n\n//\n//  File:        es3-kepler\\FXAA/FXAA3_11.h\n//  SDK Version: v3.00\n//  Email:       gameworks@nvidia.com\n//  Site:        http://developer.nvidia.com/\n//\n//  Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\n//\n//  Redistribution and use in source and binary forms, with or without\n//  modification, are permitted provided that the following conditions\n//  are met:\n//   * Redistributions of source code must retain the above copyright\n//     notice, this list of conditions and the following disclaimer.\n//   * Redistributions in binary form must reproduce the above copyright\n//     notice, this list of conditions and the following disclaimer in the\n//     documentation and/or other materials provided with the distribution.\n//   * Neither the name of NVIDIA CORPORATION nor the names of its\n//     contributors may be used to endorse or promote products derived\n//     from this software without specific prior written permission.\n//\n//  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY\n//  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n//  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n//  PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n//  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n//  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n//  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n//  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n//  OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n//  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n//  OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n\n#ifndef FXAA_GLSL_100\n  #define FXAA_GLSL_100 0\n#endif\n\n#ifndef FXAA_GLSL_120\n  #define FXAA_GLSL_120 0\n#endif\n\n#ifndef FXAA_GLSL_130\n  #define FXAA_GLSL_130 0\n#endif\n\n// -----------------------------------------------------------------------------\n\n// For those using non-linear color, and either not able to get luma in alpha,\n// or not wanting to, this enables FXAA to run using green as a proxy for luma.\n// So with this enabled, no need to pack luma in alpha.\n//\n// This will turn off AA on anything which lacks some amount of green. Pure red\n// and blue or combination of only R and B, will get no AA.\n//\n// Might want to lower the settings for both,\n//   fxaaConsoleEdgeThresholdMin\n//   fxaaQualityEdgeThresholdMin\n// In order to insure AA does not get turned off on colors which contain a minor\n// amount of green.\n//\n// 1 = On\n// 0 = Off\n#ifndef FXAA_GREEN_AS_LUMA\n  #define FXAA_GREEN_AS_LUMA 0\n#endif\n\n// Probably will not work when FXAA_GREEN_AS_LUMA = 1.\n// 1 = Use discard on pixels which don't need AA. For APIs which enable\n//     concurrent TEX+ROP from same surface.\n// 0 = Return unchanged color on pixels which don't need AA.\n#ifndef FXAA_DISCARD\n  #define FXAA_DISCARD 0\n#endif\n\n// Used for GLSL 120 only.\n//\n// 1 = GL API supports fast pixel offsets\n// 0 = do not use fast pixel offsets\n#ifndef FXAA_FAST_PIXEL_OFFSET\n  #ifdef GL_EXT_gpu_shader4\n    #define FXAA_FAST_PIXEL_OFFSET 1\n  #endif\n  #ifdef GL_NV_gpu_shader5\n    #define FXAA_FAST_PIXEL_OFFSET 1\n  #endif\n  #ifdef GL_ARB_gpu_shader5\n    #define FXAA_FAST_PIXEL_OFFSET 1\n  #endif\n  #ifndef FXAA_FAST_PIXEL_OFFSET\n    #define FXAA_FAST_PIXEL_OFFSET 0\n  #endif\n#endif\n\n// 1 = API supports gather4 on alpha channel.\n// 0 = API does not support gather4 on alpha channel.\n#ifndef FXAA_GATHER4_ALPHA\n  #ifdef GL_ARB_gpu_shader5\n    #define FXAA_GATHER4_ALPHA 1\n  #endif\n  #ifdef GL_NV_gpu_shader5\n    #define FXAA_GATHER4_ALPHA 1\n  #endif\n  #ifndef FXAA_GATHER4_ALPHA\n    #define FXAA_GATHER4_ALPHA 0\n  #endif\n#endif\n\n// -----------------------------------------------------------------------------\n//  FXAA QUALITY - TUNING KNOBS\n// -----------------------------------------------------------------------------\n\n// Choose the quality preset. This needs to be compiled into the shader as it\n// effects code. Best option to include multiple presets is to in each shader\n// define the preset, then include this file.\n//\n// OPTIONS\n// 10 to 15 - default medium dither (10 = fastest, 15 = highest quality)\n// 20 to 29 - less dither, more expensive (20 = fastest, 29 = highest quality)\n// 39       - no dither, very expensive\n//\n// NOTES\n// 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\n// 13 = about same speed as FXAA 3.9 and better than 12\n// 23 = closest to FXAA 3.9 visually and performance wise\n//  _ = the lowest digit is directly related to performance\n// _  = the highest digit is directly related to style\n#ifndef FXAA_QUALITY_PRESET\n  #define FXAA_QUALITY_PRESET 12\n#endif\n\n// -----------------------------------------------------------------------------\n//  FXAA QUALITY - PRESETS\n\n// -----------------------------------------------------------------------------\n//  FXAA QUALITY - MEDIUM DITHER PRESETS\n\n#if (FXAA_QUALITY_PRESET == 10)\n  #define FXAA_QUALITY_PS 3\n  #define FXAA_QUALITY_P0 1.5\n  #define FXAA_QUALITY_P1 3.0\n  #define FXAA_QUALITY_P2 12.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 11)\n  #define FXAA_QUALITY_PS 4\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 3.0\n  #define FXAA_QUALITY_P3 12.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 12)\n  #define FXAA_QUALITY_PS 5\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 4.0\n  #define FXAA_QUALITY_P4 12.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 13)\n  #define FXAA_QUALITY_PS 6\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 4.0\n  #define FXAA_QUALITY_P5 12.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 14)\n  #define FXAA_QUALITY_PS 7\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 4.0\n  #define FXAA_QUALITY_P6 12.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 15)\n  #define FXAA_QUALITY_PS 8\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 2.0\n  #define FXAA_QUALITY_P6 4.0\n  #define FXAA_QUALITY_P7 12.0\n#endif\n\n// -----------------------------------------------------------------------------\n//  FXAA QUALITY - LOW DITHER PRESETS\n\n#if (FXAA_QUALITY_PRESET == 20)\n  #define FXAA_QUALITY_PS 3\n  #define FXAA_QUALITY_P0 1.5\n  #define FXAA_QUALITY_P1 2.0\n  #define FXAA_QUALITY_P2 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 21)\n  #define FXAA_QUALITY_PS 4\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 22)\n  #define FXAA_QUALITY_PS 5\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 23)\n  #define FXAA_QUALITY_PS 6\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 24)\n  #define FXAA_QUALITY_PS 7\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 3.0\n  #define FXAA_QUALITY_P6 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 25)\n  #define FXAA_QUALITY_PS 8\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 2.0\n  #define FXAA_QUALITY_P6 4.0\n  #define FXAA_QUALITY_P7 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 26)\n  #define FXAA_QUALITY_PS 9\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 2.0\n  #define FXAA_QUALITY_P6 2.0\n  #define FXAA_QUALITY_P7 4.0\n  #define FXAA_QUALITY_P8 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 27)\n  #define FXAA_QUALITY_PS 10\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 2.0\n  #define FXAA_QUALITY_P6 2.0\n  #define FXAA_QUALITY_P7 2.0\n  #define FXAA_QUALITY_P8 4.0\n  #define FXAA_QUALITY_P9 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 28)\n  #define FXAA_QUALITY_PS 11\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 2.0\n  #define FXAA_QUALITY_P6 2.0\n  #define FXAA_QUALITY_P7 2.0\n  #define FXAA_QUALITY_P8 2.0\n  #define FXAA_QUALITY_P9 4.0\n  #define FXAA_QUALITY_P10 8.0\n#endif\n\n#if (FXAA_QUALITY_PRESET == 29)\n  #define FXAA_QUALITY_PS 12\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.5\n  #define FXAA_QUALITY_P2 2.0\n  #define FXAA_QUALITY_P3 2.0\n  #define FXAA_QUALITY_P4 2.0\n  #define FXAA_QUALITY_P5 2.0\n  #define FXAA_QUALITY_P6 2.0\n  #define FXAA_QUALITY_P7 2.0\n  #define FXAA_QUALITY_P8 2.0\n  #define FXAA_QUALITY_P9 2.0\n  #define FXAA_QUALITY_P10 4.0\n  #define FXAA_QUALITY_P11 8.0\n#endif\n\n// -----------------------------------------------------------------------------\n//  FXAA QUALITY - EXTREME QUALITY\n\n#if (FXAA_QUALITY_PRESET == 39)\n  #define FXAA_QUALITY_PS 12\n  #define FXAA_QUALITY_P0 1.0\n  #define FXAA_QUALITY_P1 1.0\n  #define FXAA_QUALITY_P2 1.0\n  #define FXAA_QUALITY_P3 1.0\n  #define FXAA_QUALITY_P4 1.0\n  #define FXAA_QUALITY_P5 1.5\n  #define FXAA_QUALITY_P6 2.0\n  #define FXAA_QUALITY_P7 2.0\n  #define FXAA_QUALITY_P8 2.0\n  #define FXAA_QUALITY_P9 2.0\n  #define FXAA_QUALITY_P10 4.0\n  #define FXAA_QUALITY_P11 8.0\n#endif\n\n// -----------------------------------------------------------------------------\n//  API PORTING\n\n#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)\n  #define FxaaBool bool\n  #define FxaaDiscard discard\n  #define FxaaFloat float\n  #define FxaaFloat2 vec2\n  #define FxaaFloat3 vec3\n  #define FxaaFloat4 vec4\n  #define FxaaHalf float\n  #define FxaaHalf2 vec2\n  #define FxaaHalf3 vec3\n  #define FxaaHalf4 vec4\n  #define FxaaInt2 ivec2\n  #define FxaaSat(x) clamp(x, 0.0, 1.0)\n  #define FxaaTex sampler2D\n#else\n  #define FxaaBool bool\n  #define FxaaDiscard clip(-1)\n  #define FxaaFloat float\n  #define FxaaFloat2 float2\n  #define FxaaFloat3 float3\n  #define FxaaFloat4 float4\n  #define FxaaHalf half\n  #define FxaaHalf2 half2\n  #define FxaaHalf3 half3\n  #define FxaaHalf4 half4\n  #define FxaaSat(x) saturate(x)\n#endif\n\n// -----------------------------------------------------------------------------\n\n#if (FXAA_GLSL_100 == 1)\n  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)\n  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)\n#endif\n\n// -----------------------------------------------------------------------------\n\n#if (FXAA_GLSL_120 == 1)\n  // Requires,\n  //  #version 120\n  // And at least,\n  //  #extension GL_EXT_gpu_shader4 : enable\n  //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)\n  #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\n  #if (FXAA_FAST_PIXEL_OFFSET == 1)\n    #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)\n  #else\n    #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\n  #endif\n  #if (FXAA_GATHER4_ALPHA == 1)\n    // use #extension GL_ARB_gpu_shader5 : enable\n    #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\n    #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\n    #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\n    #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\n  #endif\n#endif\n\n// -----------------------------------------------------------------------------\n\n#if (FXAA_GLSL_130 == 1)\n  // Requires \"#version 130\" or better\n  #define FxaaTexTop(t, p) textureLod(t, p, 0.0)\n  #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)\n  #if (FXAA_GATHER4_ALPHA == 1)\n    // use #extension GL_ARB_gpu_shader5 : enable\n    #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\n    #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\n    #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\n    #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\n  #endif\n#endif\n\n// -----------------------------------------------------------------------------\n//  GREEN AS LUMA OPTION SUPPORT FUNCTION\n\n#if (FXAA_GREEN_AS_LUMA == 0)\n  FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }\n#else\n  FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n#endif\n\n// -----------------------------------------------------------------------------\n//  FXAA3 QUALITY - PC\n\nFxaaFloat4 FxaaPixelShader(\n  // Use noperspective interpolation here (turn off perspective interpolation).\n  // {xy} = center of pixel\n  FxaaFloat2 pos,\n\n  // Input color texture.\n  // {rgb_} = color in linear or perceptual color space\n  // if (FXAA_GREEN_AS_LUMA == 0)\n  //   {___a} = luma in perceptual color space (not linear)\n  FxaaTex tex,\n\n  // Only used on FXAA Quality.\n  // This must be from a constant/uniform.\n  // {x_} = 1.0/screenWidthInPixels\n  // {_y} = 1.0/screenHeightInPixels\n  FxaaFloat2 fxaaQualityRcpFrame,\n\n  // Only used on FXAA Quality.\n  // This used to be the FXAA_QUALITY_SUBPIX define.\n  // It is here now to allow easier tuning.\n  // Choose the amount of sub-pixel aliasing removal.\n  // This can effect sharpness.\n  //   1.00 - upper limit (softer)\n  //   0.75 - default amount of filtering\n  //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)\n  //   0.25 - almost off\n  //   0.00 - completely off\n  FxaaFloat fxaaQualitySubpix,\n\n  // Only used on FXAA Quality.\n  // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\n  // It is here now to allow easier tuning.\n  // The minimum amount of local contrast required to apply algorithm.\n  //   0.333 - too little (faster)\n  //   0.250 - low quality\n  //   0.166 - default\n  //   0.125 - high quality\n  //   0.063 - overkill (slower)\n  FxaaFloat fxaaQualityEdgeThreshold,\n\n  // Only used on FXAA Quality.\n  // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\n  // It is here now to allow easier tuning.\n  // Trims the algorithm from processing darks.\n  //   0.0833 - upper limit (default, the start of visible unfiltered edges)\n  //   0.0625 - high quality (faster)\n  //   0.0312 - visible limit (slower)\n  // Special notes when using FXAA_GREEN_AS_LUMA,\n  //   Likely want to set this to zero.\n  //   As colors that are mostly not-green\n  //   will appear very dark in the green channel!\n  //   Tune by looking at mostly non-green content,\n  //   then start at zero and increase until aliasing is a problem.\n  FxaaFloat fxaaQualityEdgeThresholdMin\n) {\n// -----------------------------------------------------------------------------\n  FxaaFloat2 posM;\n  posM.x = pos.x;\n  posM.y = pos.y;\n  #if (FXAA_GATHER4_ALPHA == 1)\n    #if (FXAA_DISCARD == 0)\n      FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n      #if (FXAA_GREEN_AS_LUMA == 0)\n        #define lumaM rgbyM.w\n      #else\n        #define lumaM rgbyM.y\n      #endif\n    #endif\n    #if (FXAA_GREEN_AS_LUMA == 0)\n      FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);\n      FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));\n    #else\n      FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);\n      FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));\n    #endif\n    #if (FXAA_DISCARD == 1)\n      #define lumaM luma4A.w\n    #endif\n    #define lumaE luma4A.z\n    #define lumaS luma4A.x\n    #define lumaSE luma4A.y\n    #define lumaNW luma4B.w\n    #define lumaN luma4B.z\n    #define lumaW luma4B.x\n  #else\n    FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n    #if (FXAA_GREEN_AS_LUMA == 0)\n      #define lumaM rgbyM.w\n    #else\n      #define lumaM rgbyM.y\n    #endif\n      #if (FXAA_GLSL_100 == 1)\n        FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));\n      #else\n        FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n      #endif\n  #endif\n// -----------------------------------------------------------------------------\n  FxaaFloat maxSM = max(lumaS, lumaM);\n  FxaaFloat minSM = min(lumaS, lumaM);\n  FxaaFloat maxESM = max(lumaE, maxSM);\n  FxaaFloat minESM = min(lumaE, minSM);\n  FxaaFloat maxWN = max(lumaN, lumaW);\n  FxaaFloat minWN = min(lumaN, lumaW);\n  FxaaFloat rangeMax = max(maxWN, maxESM);\n  FxaaFloat rangeMin = min(minWN, minESM);\n  FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n  FxaaFloat range = rangeMax - rangeMin;\n  FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n  FxaaBool earlyExit = range < rangeMaxClamped;\n// -----------------------------------------------------------------------------\n  if(earlyExit)\n    #if (FXAA_DISCARD == 1)\n      FxaaDiscard;\n    #else\n      return rgbyM;\n    #endif\n// -----------------------------------------------------------------------------\n  #if (FXAA_GATHER4_ALPHA == 0)\n    #if (FXAA_GLSL_100 == 1)\n      FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));\n      FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));\n      FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));\n      FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));\n    #else\n      FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n      FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n      FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n      FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n    #endif\n  #else\n    FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));\n    FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n  #endif\n// -----------------------------------------------------------------------------\n  FxaaFloat lumaNS = lumaN + lumaS;\n  FxaaFloat lumaWE = lumaW + lumaE;\n  FxaaFloat subpixRcpRange = 1.0/range;\n  FxaaFloat subpixNSWE = lumaNS + lumaWE;\n  FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n  FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n// -----------------------------------------------------------------------------\n  FxaaFloat lumaNESE = lumaNE + lumaSE;\n  FxaaFloat lumaNWNE = lumaNW + lumaNE;\n  FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n  FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n// -----------------------------------------------------------------------------\n  FxaaFloat lumaNWSW = lumaNW + lumaSW;\n  FxaaFloat lumaSWSE = lumaSW + lumaSE;\n  FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n  FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n  FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n  FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n  FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n  FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n// -----------------------------------------------------------------------------\n  FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n  FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n  FxaaBool horzSpan = edgeHorz >= edgeVert;\n  FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n// -----------------------------------------------------------------------------\n  if(!horzSpan) lumaN = lumaW;\n  if(!horzSpan) lumaS = lumaE;\n  if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n  FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n// -----------------------------------------------------------------------------\n  FxaaFloat gradientN = lumaN - lumaM;\n  FxaaFloat gradientS = lumaS - lumaM;\n  FxaaFloat lumaNN = lumaN + lumaM;\n  FxaaFloat lumaSS = lumaS + lumaM;\n  FxaaBool pairN = abs(gradientN) >= abs(gradientS);\n  FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n  if(pairN) lengthSign = -lengthSign;\n  FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n// -----------------------------------------------------------------------------\n  FxaaFloat2 posB;\n  posB.x = posM.x;\n  posB.y = posM.y;\n  FxaaFloat2 offNP;\n  offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n  offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n  if(!horzSpan) posB.x += lengthSign * 0.5;\n  if( horzSpan) posB.y += lengthSign * 0.5;\n// -----------------------------------------------------------------------------\n  FxaaFloat2 posN;\n  posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n  posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n  FxaaFloat2 posP;\n  posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n  posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n  FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n  FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n  FxaaFloat subpixE = subpixC * subpixC;\n  FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n// -----------------------------------------------------------------------------\n  if(!pairN) lumaNN = lumaSS;\n  FxaaFloat gradientScaled = gradient * 1.0/4.0;\n  FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n  FxaaFloat subpixF = subpixD * subpixE;\n  FxaaBool lumaMLTZero = lumaMM < 0.0;\n// -----------------------------------------------------------------------------\n  lumaEndN -= lumaNN * 0.5;\n  lumaEndP -= lumaNN * 0.5;\n  FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n  FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n  if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n  if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n  FxaaBool doneNP = (!doneN) || (!doneP);\n  if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n  if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n// -----------------------------------------------------------------------------\n  if(doneNP) {\n    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n    doneN = abs(lumaEndN) >= gradientScaled;\n    doneP = abs(lumaEndP) >= gradientScaled;\n    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\n    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\n    doneNP = (!doneN) || (!doneP);\n    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\n    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\n// -----------------------------------------------------------------------------\n    #if (FXAA_QUALITY_PS > 3)\n    if(doneNP) {\n      if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n      if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n      if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n      if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n      doneN = abs(lumaEndN) >= gradientScaled;\n      doneP = abs(lumaEndP) >= gradientScaled;\n      if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\n      if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\n      doneNP = (!doneN) || (!doneP);\n      if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\n      if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\n// -----------------------------------------------------------------------------\n      #if (FXAA_QUALITY_PS > 4)\n      if(doneNP) {\n        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n        doneN = abs(lumaEndN) >= gradientScaled;\n        doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\n        doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\n// -----------------------------------------------------------------------------\n        #if (FXAA_QUALITY_PS > 5)\n        if(doneNP) {\n          if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n          if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n          if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n          if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n          doneN = abs(lumaEndN) >= gradientScaled;\n          doneP = abs(lumaEndP) >= gradientScaled;\n          if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\n          if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\n          doneNP = (!doneN) || (!doneP);\n          if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\n          if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\n// -----------------------------------------------------------------------------\n          #if (FXAA_QUALITY_PS > 6)\n          if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\n// -----------------------------------------------------------------------------\n            #if (FXAA_QUALITY_PS > 7)\n            if(doneNP) {\n              if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n              if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n              if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n              if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n              doneN = abs(lumaEndN) >= gradientScaled;\n              doneP = abs(lumaEndP) >= gradientScaled;\n              if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\n              if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\n              doneNP = (!doneN) || (!doneP);\n              if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\n              if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\n// -----------------------------------------------------------------------------\n  #if (FXAA_QUALITY_PS > 8)\n  if(doneNP) {\n    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n    doneN = abs(lumaEndN) >= gradientScaled;\n    doneP = abs(lumaEndP) >= gradientScaled;\n    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\n    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\n    doneNP = (!doneN) || (!doneP);\n    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\n    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\n// -----------------------------------------------------------------------------\n    #if (FXAA_QUALITY_PS > 9)\n    if(doneNP) {\n      if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n      if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n      if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n      if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n      doneN = abs(lumaEndN) >= gradientScaled;\n      doneP = abs(lumaEndP) >= gradientScaled;\n      if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\n      if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\n      doneNP = (!doneN) || (!doneP);\n      if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\n      if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\n// -----------------------------------------------------------------------------\n      #if (FXAA_QUALITY_PS > 10)\n      if(doneNP) {\n        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n        doneN = abs(lumaEndN) >= gradientScaled;\n        doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\n        doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\n// -----------------------------------------------------------------------------\n        #if (FXAA_QUALITY_PS > 11)\n        if(doneNP) {\n          if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n          if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n          if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n          if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n          doneN = abs(lumaEndN) >= gradientScaled;\n          doneP = abs(lumaEndP) >= gradientScaled;\n          if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\n          if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\n          doneNP = (!doneN) || (!doneP);\n          if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\n          if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\n// -----------------------------------------------------------------------------\n          #if (FXAA_QUALITY_PS > 12)\n          if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12_1540259130;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12_1540259130;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12_1540259130;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12_1540259130;\n// -----------------------------------------------------------------------------\n          }\n          #endif\n// -----------------------------------------------------------------------------\n        }\n        #endif\n// -----------------------------------------------------------------------------\n      }\n      #endif\n// -----------------------------------------------------------------------------\n    }\n    #endif\n// -----------------------------------------------------------------------------\n  }\n  #endif\n// -----------------------------------------------------------------------------\n            }\n            #endif\n// -----------------------------------------------------------------------------\n          }\n          #endif\n// -----------------------------------------------------------------------------\n        }\n        #endif\n// -----------------------------------------------------------------------------\n      }\n      #endif\n// -----------------------------------------------------------------------------\n    }\n    #endif\n// -----------------------------------------------------------------------------\n  }\n// -----------------------------------------------------------------------------\n  FxaaFloat dstN = posM.x - posN.x;\n  FxaaFloat dstP = posP.x - posM.x;\n  if(!horzSpan) dstN = posM.y - posN.y;\n  if(!horzSpan) dstP = posP.y - posM.y;\n// -----------------------------------------------------------------------------\n  FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n  FxaaFloat spanLength = (dstP + dstN);\n  FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n  FxaaFloat spanLengthRcp = 1.0/spanLength;\n// -----------------------------------------------------------------------------\n  FxaaBool directionN = dstN < dstP;\n  FxaaFloat dst = min(dstN, dstP);\n  FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n  FxaaFloat subpixG = subpixF * subpixF;\n  FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n  FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n// -----------------------------------------------------------------------------\n  FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n  FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n  if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n  if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n  #if (FXAA_DISCARD == 1)\n    return FxaaTexTop(tex, posM);\n  #else\n    return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\n  #endif\n}\n\nuniform sampler2D tDiffuse;\nuniform vec2 resolution;\nuniform float subpix;\nuniform float edgeThreshold;\nuniform float edgeThresholdMin;\n\nvarying vec2 vUv;\n\nvoid main() {\n  gl_FragColor = FxaaPixelShader(\n      vUv,\n      tDiffuse,\n      resolution,\n      subpix,\n      edgeThreshold,\n      edgeThresholdMin);\n}\n",d=function(e){function i(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"tDiffuse";x(this,i);var t=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));t.textureId=n,e instanceof c.ShaderMaterial?(t.uniforms=e.uniforms,t.material=e.clone()):e&&(t.uniforms=c.UniformsUtils.clone(e.uniforms),t.material=new c.ShaderMaterial({defines:e.defines||{},uniforms:t.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),t.camera=new c.OrthographicCamera(-1,1,1,-1,0,1),t.scene=new c.Scene;var a=new c.PlaneBufferGeometry(2,2);return t.quad=new c.Mesh(a,t.material),t.quad.frustumCulled=!1,t.scene.add(t.quad),t}return o(i,e),a(i,[{key:"dispose",value:function(){this.material.dispose()}},{key:"render",value:function(e,n,t,a,i){var o=this.scene,r=this.camera;this.uniforms[this.textureId]&&(this.uniforms[this.textureId].value=t.texture),this.renderToScreen?e.render(o,r,void 0,this.clear):e.render(o,r,n,this.clear)}}]),i}(c.Pass),p="#define GLSLIFY 1\n// The MIT License\n// Copyright (C) 2016-Present Shota Matsuda\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",u=function(e){function h(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:256,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:256,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:12,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o=i.subpix,r=void 0===o?.75:o,s=i.edgeThreshold,l=void 0===s?.125:s,f=i.edgeThresholdMin,d=void 0===f?.0625:f;x(this,h);var u=e*t,A=n*t;return m(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,{defines:{FXAA_QUALITY_PRESET:a},uniforms:{tDiffuse:{value:null},resolution:{value:new c.Vector2(1/u,1/A)},subpix:{value:r},edgeThreshold:{value:l},edgeThresholdMin:{value:d}},vertexShader:p,fragmentShader:F}))}return o(h,d),a(h,[{key:"setSize",value:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=e*t,i=n*t;this.uniforms.resolution.value.set(1/a,1/i)}},{key:"subpix",get:function(){return this.uniforms.subpix.value},set:function(e){this.uniforms.subpix.value=e}},{key:"edgeThreshold",get:function(){return this.uniforms.edgeThreshold.value},set:function(e){this.uniforms.edgeThreshold.value=e}},{key:"edgeThresholdMin",get:function(){return this.uniforms.edgeThresholdMin.value},set:function(e){this.uniforms.edgeThresholdMin.value=e}}]),h}();(t=c).ShaderPass=function(e,n){t.Pass.call(this),this.textureID=void 0!==n?n:"tDiffuse",e instanceof t.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=t.UniformsUtils.clone(e.uniforms),this.material=new t.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new t.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new t.Scene,this.quad=new t.Mesh(new t.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},t.ShaderPass.prototype=Object.assign(Object.create(t.Pass.prototype),{constructor:t.ShaderPass,render:function(e,n,t,a,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=t.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,n,this.clear)}}),c.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")};var h=function(e){function n(){return x(this,n),m(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,e),a(n,[{key:"dispose",value:function(){this.renderTarget1.dispose(),this.renderTarget2.dispose();for(var e=0;e<this.passes.length;++e){var n=this.passes[e];n.dispose&&n.dispose()}}},{key:"addPass",value:function(e){this.passes.push(e);var n=this.renderer.getSize(),t=n.width,a=n.height,i=this.renderer.getPixelRatio();e.setSize(t,a,i)}},{key:"insertPass",value:function(e,n){this.passes.splice(n,0,e);var t=this.renderer.getSize(),a=t.width,i=t.height,o=this.renderer.getPixelRatio();e.setSize(a,i,o)}},{key:"setSize",value:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=e*t,i=n*t;this.renderTarget1.setSize(a,i),this.renderTarget2.setSize(a,i);for(var o=0;o<this.passes.length;++o)this.passes[o].setSize(e,n,t)}}]),n}(c.EffectComposer),P="#define GLSLIFY 1\n// The MIT License\n// Copyright (C) 2016-Present Shota Matsuda\n\n#ifndef KERNEL_SIZE\n  #define KERNEL_SIZE 9\n#endif\n\nuniform sampler2D tDiffuse;\nuniform vec2 resolution;\nuniform vec2 direction;\nuniform float radius;\nuniform float radiusMax;\nuniform float center;\nuniform float scale;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 color = vec4(0.0);\n  float gradient = pow(abs((center * 0.5 + 0.5) - vUv.y) * 2.0, 2.0);\n  vec2 aspect = vec2(resolution.y / resolution.x, 1.0);\n  vec2 amount = min(radius * gradient * aspect / scale, radiusMax);\n  vec2 offset = amount * direction;\n\n  #if KERNEL_SIZE == 9\n    color += texture2D(tDiffuse, vUv) * 0.162443;\n    color += texture2D(tDiffuse, vUv + offset) * 0.151793;\n    color += texture2D(tDiffuse, vUv - offset) * 0.151793;\n    color += texture2D(tDiffuse, vUv + offset * 2.0) * 0.123853;\n    color += texture2D(tDiffuse, vUv - offset * 2.0) * 0.123853;\n    color += texture2D(tDiffuse, vUv + offset * 3.0) * 0.08824;\n    color += texture2D(tDiffuse, vUv - offset * 3.0) * 0.08824;\n    color += texture2D(tDiffuse, vUv + offset * 4.0) * 0.0548925;\n    color += texture2D(tDiffuse, vUv - offset * 4.0) * 0.0548925;\n  #endif\n\n  #if KERNEL_SIZE == 7\n    color += texture2D(tDiffuse, vUv) * 0.182476;\n    color += texture2D(tDiffuse, vUv + offset) * 0.170513;\n    color += texture2D(tDiffuse, vUv - offset) * 0.170513;\n    color += texture2D(tDiffuse, vUv + offset * 2.0) * 0.139127;\n    color += texture2D(tDiffuse, vUv - offset * 2.0) * 0.139127;\n    color += texture2D(tDiffuse, vUv + offset * 3.0) * 0.099122;\n    color += texture2D(tDiffuse, vUv - offset * 3.0) * 0.099122;\n  #endif\n\n  #if KERNEL_SIZE == 5\n    color += texture2D(tDiffuse, vUv) * 0.227595;\n    color += texture2D(tDiffuse, vUv + offset) * 0.212674;\n    color += texture2D(tDiffuse, vUv - offset) * 0.212674;\n    color += texture2D(tDiffuse, vUv + offset * 2.0) * 0.1735285;\n    color += texture2D(tDiffuse, vUv - offset * 2.0) * 0.1735285;\n  #endif\n\n  gl_FragColor = color;\n}\n",T="#define GLSLIFY 1\n// The MIT License\n// Copyright (C) 2016-Present Shota Matsuda\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",v=function(e){function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:256,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:256,t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:9,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},i=a.radius,o=void 0===i?3:i,r=a.radiusMax,s=(a.center,a.scale),l=void 0===s?1024:s;x(this,u);var f=m(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));f.needsSwap=!1,f.uniforms={tDiffuse:{value:null},resolution:{value:new c.Vector2(e,n)},direction:{value:new c.Vector2},radius:{value:o},radiusMax:{value:void 0!==r?r:2*o},center:{value:0},scale:{value:l}},f.material=new c.ShaderMaterial({defines:{KERNEL_SIZE:t},uniforms:f.uniforms,vertexShader:T,fragmentShader:P}),f.camera=new c.OrthographicCamera(-1,1,1,-1,0,1),f.scene=new c.Scene;var d=new c.PlaneBufferGeometry(2,2);return f.quad=new c.Mesh(d,f.material),f.quad.frustumCulled=!1,f.scene.add(f.quad),f}return o(u,e),a(u,[{key:"dispose",value:function(){this.material.dispose()}},{key:"render",value:function(e,n,t,a,i){var o=this.scene,r=this.camera,s=this.material;s.uniforms.tDiffuse.value=t.texture,s.uniforms.direction.value.set(1,0),e.render(o,r,n,this.clear),s.uniforms.tDiffuse.value=n.texture,s.uniforms.direction.value.set(0,1),this.renderToScreen?e.render(o,r,void 0,this.clear):e.render(o,r,t,this.clear)}},{key:"setSize",value:function(e,n){this.uniforms.resolution.value.set(e,n)}},{key:"radius",get:function(){return this.uniforms.radius.value},set:function(e){this.uniforms.radius.value=e}},{key:"radiusMax",get:function(){return this.uniforms.radiusMax.value},set:function(e){this.uniforms.radiusMax.value=e}},{key:"center",get:function(){return this.uniforms.center.value},set:function(e){this.uniforms.center.value=e}},{key:"scale",get:function(){return this.uniforms.scale.value},set:function(e){this.uniforms.scale.value=e}}]),u}(c.Pass),g="#define GLSLIFY 1\n// The MIT License\n// Copyright (C) 2016-Present Shota Matsuda\n\n// The MIT License\n// Copyright (C) 2016-Present Shota Matsuda\n\nfloat blendSoftLight(float base, float blend) {\n  return (blend < 0.5) ?\n      (2.0 * base * blend + base * base * (1.0 - 2.0 * blend))\n    : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend));\n}\n\nvec3 blendSoftLight(vec3 base, vec3 blend) {\n  return vec3(blendSoftLight(base.r, blend.r),\n              blendSoftLight(base.g, blend.g),\n              blendSoftLight(base.b, blend.b));\n}\n\nvec3 blendSoftLight(vec3 base, vec3 blend, float opacity) {\n  return (blendSoftLight(base, blend) * opacity + base * (1.0 - opacity));\n}\n\nuniform sampler2D tDiffuse;\nuniform sampler2D tNoise;\nuniform vec2 resolution;\nuniform float amount;\n\nvarying vec2 vUv;\n\nvoid main() {\n  // Make vivider and darker\n  vec4 pixel = texture2D(tDiffuse, vUv);\n  vec3 color = pixel.rgb;\n  vec2 uv = (vUv - vec2(0.5)) * 2.0 * vec2(\n      clamp(resolution.x / resolution.y, 0.0, 1.0),\n      clamp(resolution.y / resolution.x, 0.0, 1.0));\n  float coeff = amount * dot(uv, uv);\n  color = blendSoftLight(color, vec3(0.0), coeff);\n  color = mix(color, vec3(0.0), vec3(coeff * 0.2));\n\n  // Add noise to reduce banding\n  float noise = texture2D(tNoise, fract(vUv * resolution / vec2(128.0))).r;\n  color += mix(-1.0 / 64.0, 1.0 / 64.0, noise);\n\n  gl_FragColor = vec4(color, pixel.a);\n}\n",L="data:image/png;base64,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",N="#define GLSLIFY 1\n// The MIT License\n// Copyright (C) 2016-Present Shota Matsuda\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",S=function(e){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:256,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:256,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;x(this,s);var i=e*t,o=n*t,r=m(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,{uniforms:{tDiffuse:{value:null},tNoise:{value:null},resolution:{value:new c.Vector2(i,o)},amount:{value:a}},vertexShader:N,fragmentShader:g}));return r.uniforms.tNoise.value=(new c.TextureLoader).load(L),r}return o(s,d),a(s,[{key:"dispose",value:function(){i(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"dispose",this).call(this),this.uniforms.tNoise.value.dispose()}},{key:"setSize",value:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,a=e*t,i=n*t;this.uniforms.resolution.value.set(a,i)}},{key:"amount",get:function(){return this.uniforms.amount.value},set:function(e){this.uniforms.amount.value=e}}]),s}(),U=function(){function n(e){x(this,n),this.renderer=e,this.composer=new h(this.renderer),this.tiltShiftPass=new v,this.composer.addPass(this.tiltShiftPass),this.vignettePass=new S,this.composer.addPass(this.vignettePass),this.ensureRenderToScreen()}return a(n,[{key:"render",value:function(e,n){this.composer.render()}},{key:"setSize",value:function(e,n){var t=this.renderer.getPixelRatio();this.composer.setSize(e,n,t)}},{key:"addPass",value:function(e){this.composer.addPass(e)}},{key:"insertPass",value:function(e,n){this.composer.insertPass(e,n)}},{key:"ensureRenderToScreen",value:function(){for(var e=void 0,n=0;n<this.composer.passes.length;++n){var t=this.composer.passes[n];t.renderToScreen=!1,t.enabled&&(e=t)}e&&(e.renderToScreen=!0)}}]),n}(),E=function(e){function r(e,n,t,a,i){x(this,r);var o=m(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return o.scene=e,o.camera=n,o.overrideMaterial=t,o.clearColor=a,o.clearAlpha=void 0!==i?i:0,o.clear=!0,o.clearDepth=!1,o.needsSwap=!1,o.info={render:{},memory:{},programs:[]},o}return o(r,e),a(r,[{key:"render",value:function(e,n,t,a,i){var o=e.autoClear;e.autoClear=!1;var r=void 0,s=void 0;this.clearColor&&(r=e.getClearColor().getHex(),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),this.scene.overrideMaterial=this.overrideMaterial,this.onBeforeRender(e,this.scene,this.camera),this.renderToScreen?e.render(this.scene,this.camera,void 0,this.clear):e.render(this.scene,this.camera,t,this.clear),this.info={render:l({},e.info.render),memory:l({},e.info.memory),programs:[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(e.info.programs))},this.onAfterRender(e,this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=o,this.clearColor&&e.setClearColor(r,s)}},{key:"onBeforeRender",value:function(e,n,t){}},{key:"onAfterRender",value:function(e,n,t){}}]),r}(c.Pass),I=function(e){function t(e){x(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.scissor=e,n.needsSwap=!1,n}return o(t,e),a(t,[{key:"render",value:function(e,n,t,a,i){var o=this.scissor;if(o){var r=o.x,s=o.y,l=o.z,f=o.w;if(void 0!==o.width&&void 0!==o.height)s=e.getSize().height-s-o.height,l=o.width,f=o.height;var d=e.getPixelRatio();r*=d,s*=d,l*=d,f*=d,t.scissorTest=!0,t.scissor.set(r,s,l,f),n.scissorTest=!0,n.scissor.set(r,s,l,f)}}}]),t}(c.Pass),_={BloomPass:s,ClearScissorPass:f,FXAAPass:u,Postprocess:U,RenderPass:E,ScissorPass:I,TiltShiftPass:v,VignettePass:S};e.BloomPass=s,e.ClearScissorPass=f,e.FXAAPass=u,e.Postprocess=U,e.RenderPass=E,e.ScissorPass=I,e.TiltShiftPass=v,e.VignettePass=S,e.default=_,Object.defineProperty(e,"__esModule",{value:!0})});